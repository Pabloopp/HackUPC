#-----------------------------------------------------------
# Vivado v2024.2 (64-bit)
# SW Build 5239630 on Fri Nov 08 22:34:34 MST 2024
# IP Build 5239520 on Sun Nov 10 16:12:51 MST 2024
# SharedData Build 5239561 on Fri Nov 08 14:39:27 MST 2024
# Start of session at: Sun May  4 00:58:29 2025
# Process ID         : 151317
# Current directory  : /home/pablo/Documents/HackUPC
# Command line       : vivado
# Log file           : /home/pablo/Documents/HackUPC/vivado.log
# Journal file       : /home/pablo/Documents/HackUPC/vivado.jou
# Running On         : pablo-Sword-17-HX-B14VFKG
# Platform           : Ubuntu
# Operating System   : Ubuntu 24.04.1 LTS
# Processor Detail   : Intel(R) Core(TM) i7-14700HX
# CPU Frequency      : 1018.764 MHz
# CPU Physical cores : 20
# CPU Logical cores  : 28
# Host memory        : 16451 MB
# Swap memory        : 4294 MB
# Total Virtual      : 20746 MB
# Available Virtual  : 12357 MB
#-----------------------------------------------------------
start_gui
create_project 2d_hw_acc /home/pablo/Documents/HackUPC/2d_hw_acc -part xc7z020clg400-1
set_property board_part tul.com.tw:pynq-z2:part0:1.0 [current_project]
file mkdir /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sources_1/new
close [ open /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sources_1/new/conv_module.vhd w ]
add_files /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sources_1/new/conv_module.vhd
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
file mkdir /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sim_1/new
set_property SOURCE_SET sources_1 [get_filesets sim_1]
close [ open /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sim_1/new/conv_module_tb.vhd w ]
add_files -fileset sim_1 /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sim_1/new/conv_module_tb.vhd
update_compile_order -fileset sim_1
update_compile_order -fileset sim_1
launch_simulation
launch_simulation
source conv_module_tb.tcl
run 50 us
launch_simulation
launch_simulation
source conv_3x3_center_tb.tcl
close_sim
launch_simulation
source conv_3x3_center_tb.tcl
relaunch_sim
save_wave_config {/home/pablo/Documents/HackUPC/2d_hw_acc/conv_3x3_center_tb_behav.wcfg}
add_files -fileset sim_1 -norecurse /home/pablo/Documents/HackUPC/2d_hw_acc/conv_3x3_center_tb_behav.wcfg
set_property xsim.view /home/pablo/Documents/HackUPC/2d_hw_acc/conv_3x3_center_tb_behav.wcfg [get_filesets sim_1]
close_sim
launch_simulation
open_wave_config /home/pablo/Documents/HackUPC/2d_hw_acc/conv_3x3_center_tb_behav.wcfg
source conv_3x3_center_tb.tcl
create_peripheral user.org user conv_ip 1.0 -dir /home/pablo/Documents/HackUPC/ip_repo
add_peripheral_interface S00_AXI -interface_mode slave -axi_type lite [ipx::find_open_core user.org:user:conv_ip:1.0]
generate_peripheral -driver -bfm_example_design -debug_hw_example_design [ipx::find_open_core user.org:user:conv_ip:1.0]
write_peripheral [ipx::find_open_core user.org:user:conv_ip:1.0]
set_property  ip_repo_paths  /home/pablo/Documents/HackUPC/ip_repo/conv_ip_1_0 [current_project]
update_ip_catalog -rebuild
ipx::edit_ip_in_project -upgrade true -name edit_conv_ip_v1_0 -directory /home/pablo/Documents/HackUPC/ip_repo /home/pablo/Documents/HackUPC/ip_repo/conv_ip_1_0/component.xml
update_compile_order -fileset sources_1
add_files -norecurse -copy_to /home/pablo/Documents/HackUPC/ip_repo/conv_ip_1_0/src /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sources_1/new/conv_module.vhd
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
ipx::merge_project_changes files [ipx::current_core]
ipx::merge_project_changes hdl_parameters [ipx::current_core]
launch_runs synth_1 -jobs 26
wait_on_run synth_1
reset_run synth_1
launch_runs synth_1 -jobs 26
wait_on_run synth_1
reset_run synth_1
launch_runs synth_1 -jobs 26
wait_on_run synth_1
reset_run synth_1
launch_runs synth_1 -jobs 26
wait_on_run synth_1
reset_run synth_1
launch_runs synth_1 -jobs 26
wait_on_run synth_1
reset_run synth_1
launch_runs synth_1 -jobs 26
wait_on_run synth_1
ipx::merge_project_changes files [ipx::current_core]
ipx::update_checksums [ipx::current_core]
ipx::save_core [ipx::current_core]
set_property core_revision 2 [ipx::current_core]
ipx::update_source_project_archive -component [ipx::current_core]
ipx::create_xgui_files [ipx::current_core]
ipx::update_checksums [ipx::current_core]
ipx::check_integrity [ipx::current_core]
ipx::save_core [ipx::current_core]
set_property core_revision 3 [ipx::current_core]
ipx::update_source_project_archive -component [ipx::current_core]
ipx::create_xgui_files [ipx::current_core]
ipx::update_checksums [ipx::current_core]
ipx::check_integrity [ipx::current_core]
ipx::save_core [ipx::current_core]
ipx::move_temp_component_back -component [ipx::current_core]
close_project -delete
update_ip_catalog -rebuild -repo_path /home/pablo/Documents/HackUPC/ip_repo/conv_ip_1_0
create_bd_design "design_1"
update_compile_order -fileset sources_1
create_bd_cell -type ip -vlnv user.org:user:conv_ip:1.0 conv_ip_0
startgroup
create_bd_cell -type ip -vlnv user.org:user:conv_ip:1.0 conv_ip_1
endgroup
copy_bd_objs /  [get_bd_cells {conv_ip_1}]
copy_bd_objs /  [get_bd_cells {conv_ip_1}]
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:processing_system7:5.5 processing_system7_0
endgroup
set_property location {1 188 -141} [get_bd_cells processing_system7_0]
apply_bd_automation -rule xilinx.com:bd_rule:processing_system7 -config {make_external "FIXED_IO, DDR" apply_board_preset "1" Master "Disable" Slave "Disable" }  [get_bd_cells processing_system7_0]
startgroup
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/conv_ip_0/S00_AXI} ddr_seg {Auto} intc_ip {New AXI SmartConnect} master_apm {0}}  [get_bd_intf_pins conv_ip_0/S00_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/conv_ip_1/S00_AXI} ddr_seg {Auto} intc_ip {New AXI SmartConnect} master_apm {0}}  [get_bd_intf_pins conv_ip_1/S00_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/conv_ip_2/S00_AXI} ddr_seg {Auto} intc_ip {New AXI SmartConnect} master_apm {0}}  [get_bd_intf_pins conv_ip_2/S00_AXI]
apply_bd_automation -rule xilinx.com:bd_rule:axi4 -config { Clk_master {Auto} Clk_slave {Auto} Clk_xbar {Auto} Master {/processing_system7_0/M_AXI_GP0} Slave {/conv_ip_3/S00_AXI} ddr_seg {Auto} intc_ip {New AXI SmartConnect} master_apm {0}}  [get_bd_intf_pins conv_ip_3/S00_AXI]
endgroup
save_bd_design
regenerate_bd_layout
make_wrapper -files [get_files /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.srcs/sources_1/bd/design_1/design_1.bd] -top
add_files -norecurse /home/pablo/Documents/HackUPC/2d_hw_acc/2d_hw_acc.gen/sources_1/bd/design_1/hdl/design_1_wrapper.v
update_compile_order -fileset sources_1
update_compile_order -fileset sources_1
startgroup
create_bd_cell -type ip -vlnv xilinx.com:ip:xlconstant:1.1 xlconstant_0
endgroup
set_property CONFIG.CONST_VAL {0} [get_bd_cells xlconstant_0]
connect_bd_net [get_bd_pins xlconstant_0/dout] [get_bd_pins conv_ip_0/reset]
connect_bd_net [get_bd_pins conv_ip_1/reset] [get_bd_pins xlconstant_0/dout]
connect_bd_net [get_bd_pins conv_ip_2/reset] [get_bd_pins xlconstant_0/dout]
connect_bd_net [get_bd_pins conv_ip_3/reset] [get_bd_pins xlconstant_0/dout]
save_bd_design
regenerate_bd_layout
launch_runs impl_1 -to_step write_bitstream -jobs 26
wait_on_run impl_1
open_run synth_1 -name synth_1
report_utilization -name utilization_1
write_hw_platform -fixed -include_bit -force -file /home/pablo/Documents/HackUPC/2d_hw_acc/design_1_wrapper.xsa
